import pytest
from main_2 import *


test_number_images = [
    ('000000000', ('''
 _  _  _  _  _  _  _  _  _     
| || || || || || || || || |
|_||_||_||_||_||_||_||_||_|
    
    ''', False)),
    ('111111111', ('''

  |  |  |  |  |  |  |  |  |
  |  |  |  |  |  |  |  |  |

    ''', False)),
    ('222222222', ('''
 _  _  _  _  _  _  _  _  _
 _| _| _| _| _| _| _| _| _|
|_ |_ |_ |_ |_ |_ |_ |_ |_

    ''', False)),
    ('333333333', ('''
 _  _  _  _  _  _  _  _  _
 _| _| _| _| _| _| _| _| _|
 _| _| _| _| _| _| _| _| _|

    ''', False)),
    ('444444444', ('''

|_||_||_||_||_||_||_||_||_|
  |  |  |  |  |  |  |  |  |

    ''', False)),
    ('555555555', ('''
 _  _  _  _  _  _  _  _  _
|_ |_ |_ |_ |_ |_ |_ |_ |_
 _| _| _| _| _| _| _| _| _|

    ''', False)),
    ('666666666', ('''
 _  _  _  _  _  _  _  _  _
|_ |_ |_ |_ |_ |_ |_ |_ |_
|_||_||_||_||_||_||_||_||_|

    ''', False)),
    ('777777777', ('''
 _  _  _  _  _  _  _  _  _
  |  |  |  |  |  |  |  |  |
  |  |  |  |  |  |  |  |  |

    ''', False)),
    ('888888888', ('''
 _  _  _  _  _  _  _  _  _
|_||_||_||_||_||_||_||_||_|
|_||_||_||_||_||_||_||_||_|

    ''', False)),
    ('999999999', ('''
 _  _  _  _  _  _  _  _  _
|_||_||_||_||_||_||_||_||_|
 _| _| _| _| _| _| _| _| _|

    ''', False)),
    ('123456789', ('''
    _  _     _  _  _  _  _
  | _| _||_||_ |_   ||_||_|
  ||_  _|  | _||_|  ||_| _|

    ''', False)),
    ('000000051', ('''
 _  _  _  _  _  _  _  _    
| || || || || || || ||_   |
|_||_||_||_||_||_||_| _|  |
    
    ''', True)),
    ('000000052 ERR', ('''
 _  _  _  _  _  _  _  _  _ 
| || || || || || || ||_  _|
|_||_||_||_||_||_||_| _||_ 
    
    ''', True)),
    ('49006771? ILL', ('''
    _  _  _  _  _  _     _ 
|_||_|| || ||_   |  |  | _ 
  | _||_||_||_|  |  |  | _|
                      
    ''', True)),
    ('1234?678? ILL', ('''
    _  _     _  _  _  _  _ 
  | _| _||_| _ |_   ||_||_|
  ||_  _|  | _||_|  ||_| _ 
                         
    ''', True)),
]

test_numbers_for_validation = [
    (True, '000000000'),
    (True, '000000051'),
    (True, '123456789'),
    (True, '345882865'),
    (False, '000000052'),
    (False, '111111111'),
    (False, '987654321'),
]


@pytest.mark.parametrize('expected, args', test_number_images)
def test_decode_number_from_image(expected, args):
    assert decode_number_from_image(args[0], validate=args[1]) == expected


@pytest.mark.parametrize('expected, arg', test_numbers_for_validation)
def test_number_validation(expected, arg):
    assert is_number_valid(arg) == expected
